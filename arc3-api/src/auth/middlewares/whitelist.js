
const moderators = [
  '925408241951846450',
  '1114651805155082371',
  '397233243856044037',
  '364180076297846790',
  '767051663047393291',
  '822082908000092160', 
  '267357656275091458',
  '821577193800990732',
  '1105781009183674399',
  '1065836534256910377',
  '750492328409432125',
  '328322053830606851',
  '697509587380731905',
  '393165866285662208',
  '793214677646835722',
  '594392187794489413',
  '795706447995994143',
  '612915680974471179',
  '738218786414395442',
  '1188276813357662271',
  '801307949062553610',
  '121958411188436994',
  '704050218429055087',
  '1028093052851597413',
  '693607186219270165',
  '707280081525014650',
  '794788752038952970',
  '550041862162087994'
];

module.exports = async (req, res, next) => {
  req.state.self().then(x => {
    if (moderators.includes(x.id)) {
      next();
      return;
    } else {
      res.status(401).json({
        status: 401,
        message: "Unauthorised"
      });
    }
  })


}